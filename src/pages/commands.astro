---
import LandingLayout from '../layouts/LandingLayout.astro';

const title = 'All Commands - AgencyOS';
const description = '85+ AI commands for developers, marketers, sales, finance, and founders. Find the exact command you need.';
---

<LandingLayout title={title} description={description}>
  <section class="commands-hero">
    <h1>üìã 85+ Commands</h1>
    <p>G√µ command n√†o ƒë·ªÉ l√†m vi·ªác ƒë√≥?</p>
    
    <!-- Search Bar -->
    <div class="search-container">
      <div class="search-box">
        <span class="search-icon">üîç</span>
        <input 
          type="text" 
          id="command-search" 
          placeholder="Search commands... (e.g. marketing, invoice, fix)" 
          autocomplete="off"
        />
        <span class="search-clear" id="search-clear">‚úï</span>
      </div>
      <div class="search-stats">
        <span id="results-count">85</span> commands found
      </div>
    </div>
    
    <!-- Category Filter -->
    <div class="category-filter">
      <button class="filter-btn active" data-category="all">All</button>
      <button class="filter-btn" data-category="tech">üßë‚Äçüíª Tech</button>
      <button class="filter-btn" data-category="marketing">üì£ Marketing</button>
      <button class="filter-btn" data-category="sales">üíº Sales</button>
      <button class="filter-btn" data-category="finance">üí∞ Finance</button>
      <button class="filter-btn" data-category="strategy">üéØ Strategy</button>
    </div>
  </section>

  <!-- T√¥i mu·ªën Index -->
  <section class="want-index">
    <h2>üéØ "T√¥i mu·ªën..." Index</h2>
    <div class="want-table">
      <table>
        <thead>
          <tr>
            <th>T√¥i mu·ªën...</th>
            <th>Command</th>
            <th>K·∫øt qu·∫£</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><strong>Ki·∫øm ti·ªÅn affiliate</strong></td><td><code>/affiliate</code></td><td>Danh s√°ch 50+ programs</td></tr>
          <tr><td><strong>Vi·∫øt post Facebook</strong></td><td><code>/marketing/social</code></td><td>Post s·∫µn s√†ng ƒëƒÉng</td></tr>
          <tr><td><strong>L√†m video TikTok</strong></td><td><code>/video</code></td><td>Video 9:16 ready</td></tr>
          <tr><td><strong>T√¨m kh√°ch h√†ng</strong></td><td><code>/sales/lead</code></td><td>List leads qualified</td></tr>
          <tr><td><strong>Vi·∫øt proposal</strong></td><td><code>/sales/proposal</code></td><td>PDF proposal ƒë·∫πp</td></tr>
          <tr><td><strong>Xu·∫•t h√≥a ƒë∆°n</strong></td><td><code>/finance/invoice</code></td><td>Invoice chuy√™n nghi·ªáp</td></tr>
          <tr><td><strong>Fix bug nhanh</strong></td><td><code>/fix/fast</code></td><td>Bug fixed trong 5 ph√∫t</td></tr>
          <tr><td><strong>Code feature m·ªõi</strong></td><td><code>/code</code></td><td>Code production-ready</td></tr>
          <tr><td><strong>Brainstorm √Ω t∆∞·ªüng</strong></td><td><code>/brainstorm</code></td><td>10+ ideas s√°ng t·∫°o</td></tr>
          <tr><td><strong>Ph√¢n t√≠ch ƒë·ªëi th·ªß</strong></td><td><code>/intel/competitor</code></td><td>Report chi ti·∫øt</td></tr>
          <tr><td><strong>T√≠nh runway</strong></td><td><code>/finance/runway</code></td><td>C√≤n X th√°ng cash</td></tr>
          <tr><td><strong>L√™n chi·∫øn l∆∞·ª£c</strong></td><td><code>/binh-phap</code></td><td>13 clusters aligned</td></tr>
          <tr><td><strong>Ship s·∫£n ph·∫©m</strong></td><td><code>/ship</code></td><td>Deployed + notified</td></tr>
          <tr><td><strong>Review codebase</strong></td><td><code>/review/codebase</code></td><td>Quality report</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- Tech Commands -->
  <section class="commands-category">
    <div class="category-header">
      <span class="icon">üßë‚Äçüíª</span>
      <h2>Tech Commands (55)</h2>
      <span class="badge">AgencyOS AI Engine</span>
    </div>

    <div class="command-group">
      <h3>Code</h3>
      <div class="commands-row">
        <code>/code</code><code>/code/auto</code><code>/code/parallel</code><code>/code/no-test</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Fix</h3>
      <div class="commands-row">
        <code>/fix</code><code>/fix/fast</code><code>/fix/hard</code><code>/fix/ui</code><code>/fix/types</code><code>/fix/ci</code><code>/fix/logs</code><code>/fix/test</code><code>/fix/parallel</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Design</h3>
      <div class="commands-row">
        <code>/design</code><code>/design/fast</code><code>/design/good</code><code>/design/3d</code><code>/design/screenshot</code><code>/design/video</code><code>/design/describe</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Docs</h3>
      <div class="commands-row">
        <code>/docs</code><code>/docs/init</code><code>/docs/update</code><code>/docs/summarize</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Git</h3>
      <div class="commands-row">
        <code>/git/cm</code><code>/git/pr</code><code>/git/merge</code><code>/git/cp</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Plan</h3>
      <div class="commands-row">
        <code>/plan</code><code>/plan/fast</code><code>/plan/hard</code><code>/plan/parallel</code><code>/plan/ci</code><code>/plan/cro</code><code>/plan/two</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Others</h3>
      <div class="commands-row">
        <code>/test</code><code>/debug</code><code>/scout</code><code>/scout/ext</code><code>/bootstrap</code><code>/cook</code><code>/ask</code><code>/brainstorm</code><code>/journal</code><code>/help</code><code>/status</code><code>/review/codebase</code>
      </div>
    </div>
  </section>

  <!-- Business Commands -->
  <section class="commands-category business">
    <div class="category-header">
      <span class="icon">üíº</span>
      <h2>Business Commands (30+)</h2>
      <span class="badge new">AgencyOS NEW</span>
    </div>

    <div class="command-group">
      <h3>Marketing</h3>
      <div class="commands-row">
        <code>/marketing</code><code>/marketing/social</code><code>/marketing/email</code><code>/marketing/ads</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Sales</h3>
      <div class="commands-row">
        <code>/sales</code><code>/sales/lead</code><code>/sales/proposal</code><code>/sales/close</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Finance</h3>
      <div class="commands-row">
        <code>/finance</code><code>/finance/invoice</code><code>/finance/expense</code><code>/finance/runway</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Operations</h3>
      <div class="commands-row">
        <code>/ops</code><code>/ops/billing</code><code>/ops/reporting</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Affiliate</h3>
      <div class="commands-row">
        <code>/affiliate</code><code>/affiliate/scout</code><code>/affiliate/compare</code><code>/affiliate/signup</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Video</h3>
      <div class="commands-row">
        <code>/video</code><code>/video/script</code><code>/video/voiceover</code><code>/video/edit</code><code>/video/publish</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Strategy (Binh Ph√°p)</h3>
      <div class="commands-row">
        <code>/binh-phap</code><code>/okr</code><code>/kpi</code><code>/sprint</code><code>/ship</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Intel</h3>
      <div class="commands-row">
        <code>/intel</code><code>/intel/vc</code><code>/intel/competitor</code><code>/fundraise</code>
      </div>
    </div>

    <div class="command-group">
      <h3>Risk & Crisis</h3>
      <div class="commands-row">
        <code>/equity</code><code>/cap-table</code><code>/moat</code><code>/audit</code><code>/crisis</code><code>/survival</code><code>/pivot</code>
      </div>
    </div>
  </section>

  <section class="cta-section">
    <h2>Ready to try?</h2>
    <a href="/docs/getting-started/installation" class="btn-primary">Install AgencyOS ‚Üí</a>
  </section>
</LandingLayout>

<style>
  .commands-hero {
    text-align: center;
    padding: 64px 24px 32px;
  }

  .commands-hero h1 {
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #22c55e, #06b6d4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 16px;
  }

  .commands-hero p {
    font-size: 1.25rem;
    color: var(--color-text-muted);
  }

  .want-index {
    max-width: 900px;
    margin: 0 auto;
    padding: 24px;
  }

  .want-index h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-text-primary);
    margin-bottom: 16px;
  }

  .want-table {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 12px;
    overflow: hidden;
  }

  .want-table table {
    width: 100%;
    border-collapse: collapse;
  }

  .want-table th,
  .want-table td {
    padding: 12px 16px;
    text-align: left;
    border-bottom: 1px solid var(--color-border);
  }

  .want-table th {
    background: var(--color-bg-tertiary);
    font-weight: 600;
    color: var(--color-text-primary);
    font-size: 0.875rem;
  }

  .want-table td {
    color: var(--color-text-secondary);
    font-size: 0.875rem;
  }

  .want-table code {
    background: var(--color-bg-tertiary);
    color: #22c55e;
    padding: 2px 8px;
    border-radius: 4px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
  }

  .commands-category {
    max-width: 1000px;
    margin: 48px auto;
    padding: 24px;
  }

  .category-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 24px;
    flex-wrap: wrap;
  }

  .category-header .icon {
    font-size: 2rem;
  }

  .category-header h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-text-primary);
    margin: 0;
  }

  .badge {
    background: var(--color-bg-tertiary);
    color: var(--color-text-muted);
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
  }

  .badge.new {
    background: #22c55e;
    color: white;
  }

  .command-group {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 16px;
  }

  .command-group h3 {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--color-text-muted);
    margin: 0 0 12px 0;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .commands-row {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .commands-row code {
    background: var(--color-bg-tertiary);
    color: #22c55e;
    padding: 6px 12px;
    border-radius: 6px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    transition: all 0.2s ease;
  }

  .commands-row code:hover {
    background: #22c55e;
    color: white;
  }

  .commands-category.business .commands-row code {
    color: #8b5cf6;
  }

  .commands-category.business .commands-row code:hover {
    background: #8b5cf6;
    color: white;
  }

  .cta-section {
    text-align: center;
    padding: 64px 24px;
    background: linear-gradient(180deg, transparent, rgba(34, 197, 94, 0.05));
    border-top: 1px solid var(--color-border);
  }

  .cta-section h2 {
    font-size: 2rem;
    font-weight: 700;
    color: var(--color-text-primary);
    margin-bottom: 24px;
  }

  .btn-primary {
    display: inline-block;
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: white;
    padding: 14px 32px;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(34, 197, 94, 0.3);
  }

  /* Search Styles */
  .search-container {
    max-width: 500px;
    margin: 24px auto 0;
  }

  .search-box {
    display: flex;
    align-items: center;
    background: var(--color-bg-secondary);
    border: 2px solid var(--color-border);
    border-radius: 12px;
    padding: 12px 16px;
    transition: border-color 0.2s;
  }

  .search-box:focus-within {
    border-color: #22c55e;
  }

  .search-icon {
    margin-right: 12px;
    font-size: 1.2rem;
  }

  .search-box input {
    flex: 1;
    background: none;
    border: none;
    color: var(--color-text-primary);
    font-size: 1rem;
    outline: none;
  }

  .search-box input::placeholder {
    color: var(--color-text-muted);
  }

  .search-clear {
    cursor: pointer;
    color: var(--color-text-muted);
    opacity: 0;
    transition: opacity 0.2s;
  }

  .search-clear.visible {
    opacity: 1;
  }

  .search-stats {
    text-align: center;
    font-size: 0.85rem;
    color: var(--color-text-muted);
    margin-top: 8px;
  }

  .search-stats span {
    color: #22c55e;
    font-weight: 700;
  }

  .category-filter {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 20px;
    flex-wrap: wrap;
  }

  .filter-btn {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    color: var(--color-text-secondary);
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .filter-btn:hover {
    border-color: #22c55e;
  }

  .filter-btn.active {
    background: #22c55e;
    border-color: #22c55e;
    color: white;
  }

  .command-group.hidden {
    display: none;
  }

  .commands-row code.hidden {
    display: none;
  }

  .no-results {
    text-align: center;
    padding: 48px;
    color: var(--color-text-muted);
  }

  @media (max-width: 768px) {
    .commands-hero h1 {
      font-size: 2rem;
    }

    .want-table {
      overflow-x: auto;
    }
    
    .category-filter {
      gap: 6px;
    }
    
    .filter-btn {
      padding: 6px 12px;
      font-size: 0.75rem;
    }
  }
</style>

<script>
  // Search functionality
  const searchInput = document.getElementById('command-search') as HTMLInputElement;
  const searchClear = document.getElementById('search-clear');
  const resultsCount = document.getElementById('results-count');
  const filterBtns = document.querySelectorAll('.filter-btn');
  const commandCodes = document.querySelectorAll('.commands-row code');
  const commandGroups = document.querySelectorAll('.command-group');
  const wantTable = document.querySelector('.want-index');

  let activeCategory = 'all';

  function filterCommands() {
    const query = searchInput?.value.toLowerCase().trim() || '';
    let count = 0;

    // Show/hide clear button
    if (searchClear) {
      searchClear.classList.toggle('visible', query.length > 0);
    }

    // Hide "want" table when searching
    if (wantTable) {
      (wantTable as HTMLElement).style.display = query ? 'none' : 'block';
    }

    commandCodes.forEach(code => {
      const text = code.textContent?.toLowerCase() || '';
      const group = code.closest('.command-group');
      const category = code.closest('.commands-category');
      
      // Check category
      let categoryMatch = activeCategory === 'all';
      if (category?.classList.contains('business')) {
        // Business commands
        const groupTitle = group?.querySelector('h3')?.textContent?.toLowerCase() || '';
        if (activeCategory === 'marketing' && (groupTitle.includes('marketing') || groupTitle.includes('video'))) categoryMatch = true;
        if (activeCategory === 'sales' && groupTitle.includes('sales')) categoryMatch = true;
        if (activeCategory === 'finance' && (groupTitle.includes('finance') || groupTitle.includes('operations'))) categoryMatch = true;
        if (activeCategory === 'strategy' && (groupTitle.includes('strategy') || groupTitle.includes('intel') || groupTitle.includes('risk'))) categoryMatch = true;
      } else {
        // Tech commands
        if (activeCategory === 'tech') categoryMatch = true;
      }

      // Check search query
      const searchMatch = !query || text.includes(query);

      const visible = categoryMatch && searchMatch;
      (code as HTMLElement).classList.toggle('hidden', !visible);
      
      if (visible) count++;
    });

    // Update count
    if (resultsCount) {
      resultsCount.textContent = count.toString();
    }

    // Hide empty groups
    commandGroups.forEach(group => {
      const visibleCodes = group.querySelectorAll('code:not(.hidden)');
      (group as HTMLElement).classList.toggle('hidden', visibleCodes.length === 0);
    });
  }

  // Event listeners
  searchInput?.addEventListener('input', filterCommands);
  
  searchClear?.addEventListener('click', () => {
    if (searchInput) {
      searchInput.value = '';
      filterCommands();
      searchInput.focus();
    }
  });

  filterBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      filterBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      activeCategory = btn.getAttribute('data-category') || 'all';
      filterCommands();
    });
  });

  // Initial count
  filterCommands();
</script>
